<!--
  convertato.htm
  Version 1.0, 11th November 2024
-->

<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PSDI Data Conversion Service</title>
  <link rel="icon" type="image/x-icon" href="{{url_for('static', filename='img/psdi-icon-dark.svg')}}">
  <link href="https://fonts.googleapis.com/css?family=Lato:400" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Lexend:400" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="{{url_for('static', filename='styles/format.css')}}">

  <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/jquery.dirtyforms/2.0.0/jquery.dirtyforms.min.js"></script>

  <script type="module" src="{{url_for('static', filename='javascript/load_accessibility.js')}}"></script>
  <script type="module" src="{{url_for('static', filename='javascript/common.js')}}"></script>
  <script type="module" src="{{url_for('static', filename='javascript/psdi-common.js')}}"></script>
  <script type="module" src="{{url_for('static', filename='javascript/convertato.js')}}"></script>
</head>

<body marginwidth="0">

  <!-- Cover to hide element loading and make page transitions seem smoother -->
  <div id="cover"></div>

  <header class="header" id="psdi-header"></header>
  <script type="module">
    import { setHeaderLinksSource, setHeaderSource, setFooterSource } from "./static/javascript/psdi-common.js";
    // Due to the index being a template which will exist in a different directory once rendered, we need to set
    // a non-default location of the header links file
    setHeaderSource("{{url_for('static', filename='content/index-versions/psdi-common-header.html')}}");
    setFooterSource("{{url_for('static', filename='content/index-versions/psdi-common-footer.html')}}");
    setHeaderLinksSource("{{url_for('static', filename='content/index-versions/header-links.html')}}");
  </script>

  <div class="hero">
    <div class="max-width-box">
      <h1 class="hero__title marginless_header">Conversion</h1>
    </div>
  </div>

  <form name="gui" class="gui">
    <div class="max-width-box">
      <div>
        <a href="./">
          <input type="button" class="button" value=" ← Return to Format Selection " name="returnHome" id="returnHome">
        </a>
        <br>
        <br>
        <h5 id="heading"></h5>
        <div class="flex-panel-display">
          <div class="flex-panel instructions-panel">
            <h6>Upload the file and run the conversion</h6>
            <p>Click on “Choose file” and then select an input file of the correct format (and extension). Clicking on
              “Convert” uploads and converts the file. The output file is automatically downloaded, along with a log
              file.
            </p>
            <p>
              If any issues are encountered (e.g., the output file does not download), please click on “Provide
              Feedback”
              in the navigation bar.
            </p>
          </div>
          <hr class="small-screen-only">
          <div class="flex-panel">
            <p id="convertFile">
              <input type="checkbox" checked id="extCheck"> Enforce file naming checking to ensure uploaded files (and
              files contained in archives) all have the correct extension<br>
              <input type="checkbox" id="requestLog"> Also download log file for the conversion<br>
              Select file to convert<span class="max-file-size"></span>:
              <br>
              <input type="file" name="fileToUpload" id="fileToUpload">
              <input type="button" class="button no-left-margin" value=" Clear Uploaded File " name="clearUpload"
                id="clearUpload">
              <br>
              If you have sensitive data you might prefer to use <a href="download.htm">one of our downloadable tools or
                Python library</a> rather than uploading your data to our service.<br>
              <span class="convert-button-and-spinner">
                <input type="button" class="button init-disabled no-left-margin" value=" Convert " name="uploadButton"
                  id="uploadButton" disabled=true>
                <span class="loading-spinner spinner-border"></span>
              </span>
            </p>
          </div>
        </div>
      </div>
    </div>
  </form>

  <footer class="footer" id="psdi-footer"></footer>

</body>

</html>